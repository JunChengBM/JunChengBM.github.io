import{cn as n,n as v,ae as C,r as d,o as D,c as h,w as p,a as c,h as a,t as r,y as m,cx as B,cy as E}from"./vendor.404b58c2.js";import{h as A}from"./index.4677e6e8.js";const F=[{label:"\u6768\u6708\u971E",value:"\u6768\u6708\u971E"},{label:"\u5468\u5B97\u4E50",value:"\u5468\u5B97\u4E50"},{label:"\u5415\u5E7F\u6CB3",value:"\u5415\u5E7F\u6CB3"},{label:"\u8D75\u6B66\u9633",value:"\u8D75\u6B66\u9633"},{label:"\u7A46\u5B88\u597D",value:"\u7A46\u5B88\u597D"},{label:"\u738B\u5B50\u8C6A",value:"\u738B\u5B50\u8C6A"},{label:"\u9648\u5947",value:"\u9648\u5947"},{label:"\u9A6C\u60F3",value:"\u9A6C\u60F3"},{label:"\u90ED\u6625\u8273",value:"\u90ED\u6625\u8273"},{label:"\u4F55\u8FD0\u5F3A",value:"\u4F55\u8FD0\u5F3A"},{label:"\u738B\u82E5\u5B87",value:"\u738B\u82E5\u5B87"}],g=[{label:"\u6C34\u6CE5",value:"\u6C34\u6CE5"},{label:"\u77FF\u7C89",value:"\u77FF\u7C89"},{label:"\u77FF\u7C89\u8FD0\u8D39",value:"\u77FF\u7C89\u8FD0\u8D39"},{label:"\u7C89\u7164\u7070",value:"\u7C89\u7164\u7070"},{label:"\u5916\u52A0\u5242",value:"\u5916\u52A0\u5242"},{label:"\u9EC4\u6C99",value:"\u9EC4\u6C99"},{label:"\u673A\u5236\u7802",value:"\u673A\u5236\u7802"},{label:"\u74DC\u5B50\u7247",value:"\u74DC\u5B50\u7247"},{label:"\u77F3\u5B50",value:"\u77F3\u5B50"}],_={border:"full",stripe:!0,resizable:!0,showOverflow:"tooltip",showHeaderOverflow:"tooltip",highlightHoverRow:!0,loading:!1,rowId:"oddNumber",keepSource:!0,height:800,id:"wh_table",columns:[{type:"seq",width:40},{field:"oddNumber",title:"\u78C5\u5355\u53F7",sortable:!0,type:"expand",width:150,slots:{content:"info"}},{field:"goods",title:"\u5546\u54C1\u540D\u79F0",sortable:!0,filters:g,filterMultiple:!0,width:100},{field:"owner",title:"\u53D1\u8D27\u5355\u4F4D",sortable:!0,filters:F,filterMultiple:!0,width:100},{field:"storingLocation",title:"\u4ED3\u53F7",sortable:!0,filters:[{label:"\u672A\u5165\u5E93",value:-1},{label:"\u7802\u77F3\u6599",value:null},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:0,value:0}],width:80},{field:"realWeight",title:"\u5B9E\u91CD",sortable:!0,width:90},{field:"unitPrice",title:"\u5355\u4EF7",sortable:!0,width:75},{field:"totalPrice",title:"\u603B\u4EF7",sortable:!0,width:100},{field:"grossWeightTime",title:"\u5165\u5E93\u65E5\u671F",sortable:!0,formatter({cellValue:e}){return e?n(e).format("YYYY\u5E74MM\u6708DD\u65E5"):""}}],expandConfig:{labelField:"oddNumber",trigger:"row"},sortConfig:{orders:["asc","desc",null],trigger:"cell"},customConfig:{storage:!0},formConfig:{data:{owner:"",goods:"",time:""},items:[{field:"owner",title:"\u53D1\u8D27\u5355\u4F4D",span:6,itemRender:{name:"$select",options:F}},{field:"goods",title:"\u5546\u54C1\u540D\u79F0",span:6,itemRender:{name:"$select",options:g}},{field:"time",title:"\u65F6\u95F4",span:6,itemRender:{},slots:{default:"time"}},{span:24,align:"center",itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"\u67E5\u8BE2",status:"primary"}},{props:{type:"reset",content:"\u91CD\u7F6E"}}]}}]},toolbarConfig:{size:"mini",custom:!0,zoom:!0},pagerConfig:{pageSize:50,pageSizes:[10,20,50,100,200]},proxyConfig:{autoLoad:!1,seq:!0,form:!0,props:{result:"data.data",total:"data.total"},ajax:{query:({form:e,page:l})=>{const t={};e.owner&&(t.owner=e.owner),e.goods&&(t.goods=e.goods),e.time&&(t.grossWeightTime={$gte:e.time[0],$lte:e.time[1]});const i={skip:(l.currentPage-1)*l.pageSize,limit:l.pageSize};return A.request("get","/api/warehousings",{params:{query:JSON.stringify(t),options:JSON.stringify(i)}})}}},footerMethod({columns:e,data:l}){return[e.map((t,i)=>{if(i===0)return"\u5408\u8BA1";if(["realWeight","totalPrice"].includes(t.property)){let o=0;return l.forEach(s=>{o+=Number(s[t.property])}),o}return""})]}},Y=v({setup(e){const l=C(_);return(t,i)=>{const o=d("el-date-picker"),s=d("vxe-grid"),b=d("el-card");return D(),h(b,null,{default:p(()=>[c(s,B(E(m(l))),{time:p(({data:u})=>[c(o,{modelValue:u.time,"onUpdate:modelValue":f=>u.time=f,type:"daterange"},null,8,["modelValue","onUpdate:modelValue"])]),info:p(({row:u})=>[a("div",null," \u6BDB\u91CD\u65F6\u95F4\uFF1A"+r(m(n)(u.grossWeightTime).format("YYYY/MM/DD HH:mm a")),1),a("div",null," \u76AE\u91CD\u65F6\u95F4\uFF1A"+r(u.tareTime?m(n)(u.tareTime).format("YYYY/MM/DD HH:mm a"):""),1),a("div",null,"\u8F66\u53F7\uFF1A"+r(u.carNumber),1),a("div",null,"\u6BDB\u91CD\uFF1A"+r(u.grossWeight),1),a("div",null,"\u76AE\u91CD\uFF1A"+r(u.tare),1),a("div",null,"\u51C0\u91CD\uFF1A"+r(u.netWeight),1)]),_:1},16)]),_:1})}}});export{Y as default};
