var H=Object.defineProperty,K=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var w=(l,e,t)=>e in l?H(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,$=(l,e)=>{for(var t in e||(e={}))W.call(e,t)&&w(l,t,e[t]);if(E)for(var t of E(e))X.call(e,t)&&w(l,t,e[t]);return l},R=(l,e)=>K(l,P(e));import{p as b,O as Y,n as G,ae as J,D as M,Y as Q,cz as h,r as m,o as Z,g as ee,a,w as s,y as i,u as f,t as B,h as te,V as oe,W as ne,$ as ae,v as le,bx as C}from"./vendor.404b58c2.js";import ue from"./config.917e8252.js";import{a as se}from"./is.7eeeb0a2.js";import{_ as ie}from"./index.4677e6e8.js";function re(l){const e=b(l||""),t=b(!1),c=b(!1);return Y(e,r=>{se(r)&&(c.value=!0,t.value=de(r))},{immediate:!!l,flush:"sync"}),{clipboardRef:e,isSuccessRef:t,copiedRef:c}}function de(l,{target:e=document.body}={}){const t=document.createElement("textarea"),c=document.activeElement;t.value=l,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const r=document.getSelection();let _;r&&r.rangeCount>0&&(_=r.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=l.length;let x=!1;try{x=document.execCommand("copy")}catch(v){throw new Error(v)}return t.remove(),_&&r&&(r.removeAllRanges(),r.addRange(_)),c&&c.focus(),x}const ce={class:"text-model"},me=f("\u7F16\u8F91"),fe=f("\u65B0\u589E\u5B50\u7C7B\u578B"),pe=f("\u5B57\u5178\u914D\u7F6E"),_e=f("\u5220\u9664"),ve={name:"dict"};function be(l){const e=J({submitLoading:!1,showEdit:!1,selectRow:null,filterName:"",tableData:[{id:1,name:"\u72B6\u6001",model:"",children:[{id:"1-1",name:"\u670D\u52A1\u72B6\u6001",model:"serviceStatus"},{id:"1-2",name:"\u5728\u7EBF\u72B6\u6001",model:"onlienStatus"}]},{id:2,name:"\u64CD\u4F5C\u7CFB\u7EDF",model:"operatingSystem"}],formData:{name:"",model:""},formItems:[{field:"name",title:"\u5B57\u5178\u540D\u79F0",span:24,itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u540D\u79F0"}}},{field:"model",title:"\u5B57\u5178\u7C7B\u578B",span:24,itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u7C7B\u578B",disabled:!0}}},{align:"right",span:24,itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"\u63D0\u4EA4",status:"primary"}},{props:{type:"reset",content:"\u91CD\u7F6E"}}]}}]});let t=M(e.tableData);const c=Q("xTree",null),r=()=>{const o=h.toValueString(e.filterName).trim();if(o){const u={children:"children"},D=["name"];e.tableData=h.searchTree(t,d=>D.some(F=>h.toValueString(d[F]).indexOf(o)>-1),u),le(()=>{c.value.setAllTreeExpand(!0)})}else e.tableData=t},_=h.debounce(function(){r()},100,{leading:!1,trailing:!0}),x=async()=>{await await C.modal.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F")==="confirm"&&C.modal.message({content:"\u6D4B\u8BD5\u6570\u636E\uFF0C\u4E0D\u53EF\u5220\u9664",status:"error"})};function v(o,u){e.selectRow=o,e.showEdit=!0,e.formItems[1].itemRender.props.disabled=u}function T(){v(null,!1)}function k(o){v(null,!1)}function A(o){e.formData={name:o.name,model:o.model?o.model:"\u6682\u65E0\u5B57\u5178\u7C7B\u578B"},v(o,!0)}const{clipboardRef:S}=re(),V=({row:o})=>{S.value=i(o).model},N=b({}),j=()=>{e.submitLoading=!0,setTimeout(()=>{const o=N.value;e.submitLoading=!1,e.showEdit=!1,e.selectRow?(C.modal.message({content:"\u4FDD\u5B58\u6210\u529F",status:"success"}),Object.assign(e.selectRow,e.formData)):(C.modal.message({content:"\u65B0\u589E\u6210\u529F",status:"success"}),o.insert(e.formData))},500)};let g=b(!1);function q(o){g.value=!0}function L(){g.value=!1}return(o,u)=>{const D=m("vxe-input"),d=m("vxe-button"),F=m("vxe-toolbar"),y=m("vxe-table-column"),z=m("el-tooltip"),I=m("vxe-table"),O=m("vxe-form"),U=m("vxe-modal");return Z(),ee("div",null,[a(F,null,{buttons:s(()=>[a(D,{modelValue:i(e).filterName,"onUpdate:modelValue":u[0]||(u[0]=n=>i(e).filterName=n),placeholder:o.$t("buttons.hssearch"),onKeyup:i(_)},null,8,["modelValue","placeholder","onKeyup"])]),tools:s(()=>[a(d,{icon:"fa fa-plus-square-o",status:"primary",onClick:T},{default:s(()=>[f(B(o.$t("buttons.hsadd")),1)]),_:1}),a(d,{icon:"fa fa-folder-open-o",status:"primary",onClick:u[1]||(u[1]=n=>o.$refs.xTree.setAllTreeExpand(!0))},{default:s(()=>[f(B(o.$t("buttons.hsexpendAll")),1)]),_:1}),a(d,{icon:"fa fa-folder-o",status:"primary",onClick:u[2]||(u[2]=n=>o.$refs.xTree.clearTreeExpand())},{default:s(()=>[f(B(o.$t("buttons.hscollapseAll")),1)]),_:1})]),_:1}),a(I,{ref:(n,p)=>{p.xTree=n,ae(c)&&(c.value=n)},border:"",resizable:"","tree-config":{children:"children",iconOpen:"fa fa-minus-square-o",iconClose:"fa fa-plus-square-o"},data:i(e).tableData,onCellDblclick:V},{default:s(()=>[a(y,{"tree-node":"",field:"name",title:"\u5B57\u5178\u540D\u79F0"}),a(y,{title:"\u5B57\u5178\u7C7B\u578B"},{default:s(({row:n})=>[a(z,{effect:"dark",content:"\u53CC\u51FB\u590D\u5236\uFF1A"+n.model,placement:"right"},{default:s(()=>[te("span",ce,B(n.model),1)]),_:2},1032,["content"])]),_:1}),a(y,{title:"\u64CD\u4F5C",width:"330",fixed:"right"},{default:s(({row:n})=>[a(d,{type:"text",icon:"fa fa-pencil-square-o",onClick:p=>A(n)},{default:s(()=>[me]),_:2},1032,["onClick"]),a(d,{type:"text",icon:"fa fa-plus-square-o",onClick:p=>k()},{default:s(()=>[fe]),_:2},1032,["onClick"]),oe(a(d,{type:"text",icon:"fa fa-cog",onClick:p=>q()},{default:s(()=>[pe]),_:2},1032,["onClick"]),[[ne,n.model]]),a(d,{type:"text",icon:"fa fa-trash-o",onClick:x},{default:s(()=>[_e]),_:1})]),_:1})]),_:1},8,["data"]),a(U,{resize:"",width:"450",modelValue:i(e).showEdit,"onUpdate:modelValue":u[3]||(u[3]=n=>i(e).showEdit=n),title:i(e).selectRow?"\u7F16\u8F91":"\u65B0\u589E",loading:i(e).submitLoading,onHide:u[4]||(u[4]=n=>o.$refs.xForm.reset())},{default:s(()=>[a(O,{ref:(n,p)=>{p.xForm=n},data:i(e).formData,items:i(e).formItems,"title-align":"right","title-width":"100",onSubmit:j},null,8,["data","items"])]),_:1},8,["modelValue","title","loading"]),a(ue,{drawer:i(g),drawTitle:"\u5B57\u5178\u5217\u8868",onHandleClose:L},null,8,["drawer"])])}}const xe=G(R($({},ve),{setup:be}));var Fe=ie(xe,[["__scopeId","data-v-26c83633"]]);export{Fe as default};
